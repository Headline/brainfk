import os

cxx = builder.DetectCxx()

if cxx.like('gcc'):
    cxx.cflags += [
      '-pipe',
      '-Wall',
      '-Werror',
      '-fvisibility=hidden',
      '-std=c++1z',
    ]
elif cxx.like('msvc'):
	cxx.cflags += [
    '/EHsc',
    '-W3',
    '-WX',
    '-std:c++17',
    '/Ot',
	]

cxx.defines += ['_HAS_EXCEPTIONS=0']

program = builder.cxx.Program('Brainfuck')
program.sources += [
  'registermanager.cpp',
  'parser.cpp',
  'main.cpp',
]
builder.Add(program)
